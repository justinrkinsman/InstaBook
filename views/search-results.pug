extends layout 

block content 
    div.user-search-page
        div.homepage-left   
            img.text-logo(src="https://see.fontimg.com/api/renderfont4/JRzmB/eyJyIjoiZnMiLCJoIjo1MywidyI6MTAwMCwiZnMiOjUzLCJmZ2MiOiIjMDAwMDAwIiwiYmdjIjoiIzgyOEMzMCIsInQiOjF9/SW5zdGFCb29r/brilliant-mastaka.png" alt="Instagram fonts")
            div.homepage-links
                div.homepage-left-link
                    a(href='/')
                        img.icon(src="/icons/home-outline.png")
                    a(href='/') Home
                div.homepage-left-link
                    a(href='/users')
                        img.icon(src='/icons/magnify-filled-in.png')
                    a.active-link(href='/users') Search
                //div.homepage-left-link  add this later
                    img.icon(src='icons/send-outline.png')
                    p Messages
                //div.homepage-left-link   add this later
                    img.icon(src='icons/heart-outline.png')
                    p Notifications
                div.homepage-left-link
                    a(href='/new-post')
                        img.icon(src='/icons/plus-box-outline.png')
                    a(href='/new-post') Create
                div.homepage-left-link  
                    a(href=`/user/${current_user._id}`)
                        img.icon(src='/icons/account-circle-outline.png')
                    a(href=`/user/${current_user._id}`) Profile
                a.logout-link(href='/logout') Logout
        div.user-index-midpage
            h1 Search Results
            input(type="text", name="search", id="search")
            div(id="search-results")
                for user in users
                    p #{user.username}
            script.
                const searchInput = document.querySelector("#search");
                const searchResults = document.querySelector("#search-results");
                
                searchInput.addEventListener("input", () => {
                    const query = searchInput.value;
                    console.log(query)
                    fetch(`/search/${query}`)
                    .then(response => response.json())
                    .then(data => {
                        return res.render('search-results.pug', { title: "Search Results", users: data, current_user: req.user });
                        // You can use Pug's iteration syntax to loop through the search results and generate HTML
                    })
                    .catch(error => console.error(error));
                });